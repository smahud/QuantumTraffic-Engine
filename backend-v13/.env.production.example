# ========================================
# QuantumTraffic Engine - Backend Configuration
# ========================================
# GitHub: https://github.com/smahud/QuantumTraffic-Engine
# Domain: trafficbuster.my.id:5252

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=5252
NODE_ENV=production
DOMAIN=trafficbuster.my.id

# ========================================
# SECURITY
# ========================================
JWT_SECRET=your-ultra-secure-jwt-secret-key-CHANGE-ME-production
JWT_EXP=24h
RUNNER_API_KEY=quantum-runner-secure-api-key-CHANGE-ME-production

# ========================================
# SSL/TLS CERTIFICATES
# ========================================
# Centralized certificate location
CERT_PATH=/app/certificates/cert.pem
KEY_PATH=/app/certificates/key.pem

# ========================================
# CORS & ORIGINS
# ========================================
ALLOWED_ORIGINS=https://trafficbuster.my.id:5252,https://localhost:5252,https://trafficbuster.my.id:5353

# ========================================
# FRONTEND CONFIGURATION (Managed by Backend)
# ========================================
FRONTEND_PORT=5252
FRONTEND_URL=https://trafficbuster.my.id:5252

# ========================================
# ADMIN PANEL CONFIGURATION
# ========================================
ADMIN_PANEL_PORT=5353
ADMIN_PANEL_URL=https://trafficbuster.my.id:5353

# ========================================
# RUNNER CONFIGURATION
# ========================================
RUNNER_PORT=5522
RUNNER_WSS_PATH=/ws/runner
RUNNER_HEARTBEAT_INTERVAL=30000
RUNNER_TIMEOUT=120000

# ========================================
# WEBSOCKET CONFIGURATION (OPTIMIZED)
# ========================================
# User WebSocket Configuration
WS_USER_PATH=/ws
WS_HEARTBEAT_INTERVAL=15000
WS_PING_INTERVAL=30000
WS_PING_TIMEOUT=60000

# Session Grace Period (5 minutes)
SESSION_GRACE_PERIOD_MS=300000
SESSION_CLEAN_INTERVAL_MS=120000

# ========================================
# DATABASE
# ========================================
MONGODB_URI=mongodb://localhost:27017/quantumtraffic

# ========================================
# RATE LIMITING
# ========================================
BODY_LIMIT=32kb
LOGIN_RATE_LIMIT_WINDOW=60000
LOGIN_RATE_LIMIT_MAX=8
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX=1000

# ========================================
# RUNNER DEPLOYMENT
# ========================================
RUNNER_REPO_URL=https://github.com/smahud/QuantumTraffic-Engine.git
DEFAULT_RUNNER_OS=linux

# ========================================
# LOGGING
# ========================================
LOG_LEVEL=info
LOG_FILE=/app/logs/backend.log

# ========================================
# FINGERPRINTS & PLATFORMS
# ========================================
FINGERPRINTS_PATH=/app/backend-v13/data/fingerprints.json

# ========================================
# BACKUP & MAINTENANCE
# ========================================
BACKUP_DIR=/app/backups
AUTO_BACKUP=true
BACKUP_INTERVAL=86400000

# ========================================
# MONITORING
# ========================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ========================================
# DEVELOPMENT/DEBUG
# ========================================
DEBUG=false
VERBOSE_LOGGING=false
